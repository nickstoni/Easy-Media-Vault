{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'../App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUpload=()=>{const[file,setFile]=useState(null);const[ipfsHash,setIpfsHash]=useState('');const[error,setError]=useState('');const[uploading,setUploading]=useState(false);const[success,setSuccess]=useState(false);// Handle file selection\nconst handleFileChange=event=>{setFile(event.target.files[0]);setIpfsHash('');setError('');setSuccess(false);};// Handle drag over event\nconst handleDragOver=event=>{event.preventDefault();};// Handle file drop event\nconst handleDrop=event=>{event.preventDefault();setFile(event.dataTransfer.files[0]);setIpfsHash('');setError('');setSuccess(false);};// Handle file upload\nconst handleUpload=async()=>{if(!file){setError('Please select a file to upload.');return;}const formData=new FormData();formData.append('file',file);setUploading(true);try{const response=await axios.post('http://ec2-3-22-42-223.us-east-2.compute.amazonaws.com:5001/upload',formData);setIpfsHash(response.data.cid);setError('');setSuccess(true);}catch(err){console.error('Error uploading file:',err.response||err.message||err);setError('Error uploading file. Please try again.');setSuccess(false);}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"upload-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/pinataimg.jpg\",alt:\"Pinata\",className:\"pinata-image\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Upload File\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area\",onDragOver:handleDragOver,onDrop:handleDrop,onClick:()=>document.getElementById('fileInput').click(),children:[/*#__PURE__*/_jsx(\"p\",{children:\"Drag & drop your file here or click to select\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fileInput\",onChange:handleFileChange,style:{display:'none'}})]}),file&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Selected file: \",file.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:uploading,children:uploading?'Uploading...':'Upload'}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:\"File uploaded successfully!\"}),ipfsHash&&/*#__PURE__*/_jsxs(\"p\",{children:[\"IPFS Hash: \",ipfsHash]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error})]});};export default FileUpload;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","FileUpload","file","setFile","ipfsHash","setIpfsHash","error","setError","uploading","setUploading","success","setSuccess","handleFileChange","event","target","files","handleDragOver","preventDefault","handleDrop","dataTransfer","handleUpload","formData","FormData","append","response","post","data","cid","err","console","message","className","children","src","alt","onDragOver","onDrop","onClick","document","getElementById","click","type","id","onChange","style","display","name","disabled"],"sources":["/Users/nickstoni/Desktop/Pinata/Easy-media-vault/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport '../App.css';\n\nconst FileUpload = () => {\n    const [file, setFile] = useState(null);\n    const [ipfsHash, setIpfsHash] = useState('');\n    const [error, setError] = useState('');\n    const [uploading, setUploading] = useState(false);\n    const [success, setSuccess] = useState(false);\n\n    // Handle file selection\n    const handleFileChange = (event) => {\n        setFile(event.target.files[0]);\n        setIpfsHash('');\n        setError('');\n        setSuccess(false);\n    };\n\n    // Handle drag over event\n    const handleDragOver = (event) => {\n        event.preventDefault();\n    };\n\n    // Handle file drop event\n    const handleDrop = (event) => {\n        event.preventDefault();\n        setFile(event.dataTransfer.files[0]);\n        setIpfsHash('');\n        setError('');\n        setSuccess(false);\n    };\n\n    // Handle file upload\n    const handleUpload = async () => {\n        if (!file) {\n            setError('Please select a file to upload.');\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('file', file);\n\n        setUploading(true);\n        try {\n            const response = await axios.post('http://ec2-3-22-42-223.us-east-2.compute.amazonaws.com:5001/upload', formData);\n            setIpfsHash(response.data.cid);\n            setError('');\n            setSuccess(true);\n        } catch (err) {\n            console.error('Error uploading file:', err.response || err.message || err);\n            setError('Error uploading file. Please try again.');\n            setSuccess(false);\n        } finally {\n            setUploading(false);\n        }\n    };\n\n    return (\n        <div className=\"upload-container\">\n            <img src=\"/pinataimg.jpg\" alt=\"Pinata\" className=\"pinata-image\" />\n            <h2>Upload File</h2>\n            <div \n                className=\"upload-area\"\n                onDragOver={handleDragOver} \n                onDrop={handleDrop} \n                onClick={() => document.getElementById('fileInput').click()}\n            >\n                <p>Drag & drop your file here or click to select</p>\n                <input \n                    type=\"file\" \n                    id=\"fileInput\" \n                    onChange={handleFileChange} \n                    style={{ display: 'none' }} \n                />\n            </div>\n            {file && <p>Selected file: {file.name}</p>}\n            <button onClick={handleUpload} disabled={uploading}>\n                {uploading ? 'Uploading...' : 'Upload'}\n            </button>\n            {success && <p className=\"success-message\">File uploaded successfully!</p>}\n            {ipfsHash && <p>IPFS Hash: {ipfsHash}</p>}\n            {error && <p className=\"error-message\">{error}</p>}\n        </div>\n    );\n};\n\nexport default FileUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}